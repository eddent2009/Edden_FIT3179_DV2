<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.30.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.26.0"></script>
  
  <!-- Link to your CSS -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
</head>
<body>

  <!-- Main Header for the Homework -->
  <h1>Fluoridation Insights in Victoria</h1>

  <h2>Fluoridation Status in Victoria: A Comprehensive Data Visualization</h2>
  
  <!-- Treemap Section (Now First) -->
  <h2>Treemap: Fluoridation by Water Company</h2>
  <div id="treemap"></div>
  <p>
    This treemap shows the distribution of suburbs managed by different water companies. Each rectangle represents a water company, and its size is proportional to the number of suburbs they manage.
  </p>

  <!-- Map Visualization Section -->
  <h2>Map Visualization: Fluoridation Levels by Suburb in Victoria</h2>
  <div id="pointmap"></div>
  <p>
    This map visualizes the fluoridation levels across different suburbs in Victoria. Each point represents a suburb, and the color coding 
    indicates the fluoridation level (Fluoridated, Natural Fluoride, Not Fluoridated, Partly Fluoridated). 
    This helps highlight regional differences in water fluoridation practices across the state.
  </p>

  <!-- Bar Chart Section -->
  <h2>Bar Chart: Count of Suburbs by Fluoridation Level</h2>
  <div id="barchart"></div>
  <p>
    This bar chart provides a breakdown of the number of suburbs for each fluoridation level. It categorizes the suburbs based on whether their water 
    is fluoridated, naturally fluoridated, not fluoridated, or partly fluoridated. This chart gives a clear overview of how widespread different fluoridation levels are across the region.
  </p>

  <!-- Stacked Bar Chart Section -->
  <h2>Stacked Bar Chart: Fluoridation Status by Water Company</h2>
  <div id="stackbar"></div>
  <p>
    This stacked bar chart shows the distribution of fluoridation levels across different water companies. 
    Each bar represents a water company, and the colors within the bar indicate the number of suburbs served by the company under each fluoridation level. 
    This visualization highlights which companies manage more fluoridated or non-fluoridated suburbs.
  </p>

  <!-- Embedding all visualizations -->
  <script type="text/javascript">
    // Treemap embed (Replacing Pie chart)
    var specTree = "js/treemap.vg.json";
    vegaEmbed('#treemap', specTree).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    // Point map embed
    var spec2 = "js/pointmap.vl.json";
    vegaEmbed('#pointmap', spec2).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    // Bar chart embed
    var spec3 = "js/barchart.vl.json";
    vegaEmbed('#barchart', spec3).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    // Stacked bar chart embed
    var specStack = "js/stackbar.vl.json";
    vegaEmbed('#stackbar', specStack).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

  </script>

</body>
</html>
