<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.30.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.26.0"></script>
  
  <!-- Link to your CSS -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
</head>
<body>

  <!-- Main Header -->
  <h1>Fluoridation Status in Victoria</h1>

  <!-- Box for "What is Water Fluoridation?" -->
  <div class="box fluoridation-box">
    <h2>What is Water Fluoridation?</h2>
    <p>
      Water fluoridation adds fluoride to drinking water to prevent tooth decay. 
      Fluoride strengthens tooth enamel and reduces cavities, especially in children. Many communities include fluoride in their water as a public health measure.
    </p>
    <ul>
      <li><strong>Fluoridated:</strong> Fluoride is added to meet health guidelines.</li>
      <li><strong>Natural Fluoride:</strong> Fluoride occurs naturally in the water.</li>
      <li><strong>Partly Fluoridated:</strong> Some areas have fluoridated water.</li>
      <li><strong>Not Fluoridated:</strong> No fluoride is added to the water supply.</li>
    </ul>
  </div>

  <!-- Treemap Section in a Box -->
  <div class="box treemap-box">
    <div id="treemap"></div>
    <div class="content">
      <p>
        This treemap shows the distribution of suburbs managed by different water companies in Victoria. 
        Each rectangle represents a water company, with the size of each rectangle proportional to the number of suburbs it manages.
        Larger rectangles represent companies managing more suburbs, such as Yarra Valley Water and Barwon Water, while smaller ones represent companies like Coliban Water and Lower Murray Water.
      </p>
    </div>
  </div>

  <!-- Map Visualization Section in a Box -->
  <div class="box map-box">
    <h2>Map Visualization</h2>
    <div id="pointmap"></div>
    <p>
      This map visualizes the fluoridation levels across different suburbs in Victoria. Each point represents a suburb, and the color coding indicates whether the water is fluoridated (Blue), naturally fluoridated (Green), not fluoridated (Red), or partly fluoridated (Orange).
      Users can zoom in to explore the specific fluoridation details for each suburb.
    </p>
  </div>

  <!-- Bar Chart Section in a Box -->
  <div class="box barchart-box">
    <div id="barchart"></div>
    <div class="content">
      <p>
        This bar chart visualizes the distribution of suburbs by water fluoridation levels in Victoria. 
        The largest portion belongs to the Fluoridated category with 787 suburbs, while 256 suburbs fall under the Not fluoridated category.
      </p>
    </div>
  </div>

  <!-- Stacked Bar Chart Section in a Box -->
  <div class="box stackbar-box">
    <h2>Fluoridation Status by Water Company</h2>
    <div id="stackbar"></div>
    <div class="content">
      <p>
        This stacked bar chart displays the distribution of fluoridation levels across various water companies in Victoria. 
        Each bar represents the number of suburbs managed by each water company, showing their corresponding fluoridation status: fluoridated, naturally fluoridated, not fluoridated, or partly fluoridated.
        Yarra Valley Water manages the most suburbs with fluoridated water.
      </p>
    </div>
  </div>

  <!-- Embedding all visualizations -->
  <script type="text/javascript">
    // Treemap embed
    var specTree = "js/treemap.vg.json";
    vegaEmbed('#treemap', specTree).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    // Point map embed
    var spec2 = "js/pointmap.vl.json";
    vegaEmbed('#pointmap', spec2).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    // Bar chart embed
    var spec3 = "js/barchart.vl.json";
    vegaEmbed('#barchart', spec3).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    // Stacked bar chart embed
    var specStack = "js/stackbar.vl.json";
    vegaEmbed('#stackbar', specStack).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);
  </script>

</body>
</html>
